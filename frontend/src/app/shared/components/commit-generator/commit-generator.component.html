<div class="commit-generator">
  <!-- Configuration Section -->
  <div class="section">
    <div class="section-header" (click)="configExpanded = !configExpanded">
      <span class="section-title">Configuration</span>
      <button class="expand-button">
        <i class="material-icons">{{ configExpanded ? 'expand_less' : 'expand_more' }}</i>
      </button>
    </div>
    
    <div class="section-content" [class.expanded]="configExpanded">
      <form [formGroup]="commitForm">
        <div class="form-group">
          <label>Commit Message Format</label>
          <select formControlName="format">
            <option value="Angular Guidelines">Angular Guidelines</option>
            <option value="Conventional Commits">Conventional Commits</option>
            <option value="Custom">Custom</option>
          </select>
        </div>

        <div class="form-group">
          <label>Repository Path</label>
          <div class="repository-input">
            <input type="text" formControlName="repoPath" readonly placeholder="Select Git repository folder">
            <button type="button" class="browse-button" (click)="selectFolder()">
              Browse
            </button>
          </div>
        </div>

        <div class="form-group">
          <label>AI Model</label>
          <select formControlName="aiModel">
            <option *ngFor="let model of aiModels" [value]="model.id">
              {{ model.name }} 
              <span class="model-status" [class.online]="model.isOnline">
                ({{ model.isOnline ? 'Online' : 'Offline' }})
              </span>
            </option>
          </select>
        </div>

        <div class="form-group">
          <label>Message Style</label>
          <select formControlName="style">
            <option value="Descriptive">Descriptive</option>
            <option value="Concise">Concise</option>
          </select>
        </div>

        <div class="form-group">
          <label>Language</label>
          <select formControlName="language">
            <option value="English">English</option>
            <option value="French">French</option>
            <option value="Spanish">Spanish</option>
            <option value="German">German</option>
          </select>
        </div>
      </form>
    </div>
  </div>

  <!-- Generate Button -->
  <button class="generate-button" (click)="onSubmit()" [disabled]="!commitForm.valid || isLoading">
    Generate Commit Message
  </button>

  <!-- Results Section -->
  <div class="section result-section" *ngIf="commitResult">
    <div class="section-header">
      <span class="section-title">Generated Commit Message</span>
    </div>
    
    <div class="section-content expanded">
      <div class="commit-messages">
        <div class="message-box">
          <h3>English</h3>
          <p>{{ commitResult.englishMessage }}</p>
          <button class="copy-button" (click)="copyToClipboard(commitResult.englishMessage)">
            Copy
          </button>
        </div>
        <div class="message-box">
          <h3>{{ commitForm.get('language')?.value }}</h3>
          <p>{{ commitResult.translatedMessage }}</p>
          <button class="copy-button" (click)="copyToClipboard(commitResult.translatedMessage)">
            Copy
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" *ngIf="isLoading">
    <mat-spinner></mat-spinner>
  </div>
</div>

